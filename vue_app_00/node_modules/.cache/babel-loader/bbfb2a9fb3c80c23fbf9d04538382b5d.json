{"remainingRequest":"C:\\Users\\81533\\Desktop\\superteam\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\81533\\Desktop\\superteam\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\81533\\Desktop\\superteam\\vue_app_00\\src\\components\\web1908\\xz\\Product.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\81533\\Desktop\\superteam\\vue_app_00\\src\\components\\web1908\\xz\\Product.vue","mtime":1575541437799},{"path":"C:\\Users\\81533\\Desktop\\superteam\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\Users\\81533\\Desktop\\superteam\\vue_app_00\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\Users\\81533\\Desktop\\superteam\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  created: function created() {\n    //组件创建成功后加载\n    this.loadMore(); //加载数据\n  },\n  data: function data() {\n    //保存共享数据\n    return {\n      list: [],\n      //服务器返回的结果\n      pno: 0 //当前显示的页码\n\n    };\n  },\n  methods: {\n    //添加函数\n    jumpCart: function jumpCart() {\n      //功能:跳转购物车组件\n      this.$router.push(\"/Cart\");\n    },\n    addcart: function addcart(event) {\n      var _this = this;\n\n      //event:事件对象,.target触发事件对象(按钮)\n      //功能:添加至购物车\n      console.log(1); //1.在参数中添加属性event\n      //2.获取三个参数\n\n      var lid = event.target.dataset.lid; //.dataset专用于保存自定义属性值对象\n\n      var price = event.target.dataset.price;\n      var lname = event.target.dataset.lname;\n      console.log(2);\n      console.log(lid + \":\" + price + \":\" + lname); //3.创建变量url\n\n      var url = \"addcart\"; //4.创建变量obj\n\n      var obj = {\n        lid: lid,\n        lname: lname,\n        price: price //5.发送ajax请求\n\n      };\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        console.log(3);\n        console.log(res);\n\n        if (res.data.code == -2) {\n          _this.$toast(\"请登录!\");\n\n          _this.$router.push(\"/Login\");\n        } else {\n          _this.$toast(\"添加成功\");\n        }\n      }); //6.获取服务器返回的数据\n    },\n    loadMore: function loadMore() {\n      var _this2 = this;\n\n      //功能:加载下一个数据\n      this.pno++;\n      console.log(1); //1.创建变量url\n\n      var url = \"product\"; //2.创建变量obj\n\n      var obj = {\n        pno: this.pno\n      }; //3.发送ajax请求\n\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        //console.log(2);\n        //console.log(res.data.data)\n        //4.获取服务器返回结果\n        //5.在data添加属性list\n        //  保存返回数据\n        //this.list=res.data.data;//第一个data是ajax返回,第二个data是上面的data\n        var rows = _this2.list.concat(res.data.data);\n\n        _this2.list = rows; //6.在模板创建循环显示数据\n      });\n    }\n  }\n};",{"version":3,"sources":["Product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAoBA,eAAA;AACA,SADA,qBACA;AAAA;AACA,SAAA,QAAA,GADA,CACA;AACA,GAHA;AAIA,MAJA,kBAIA;AAAA;AACA,WAAA;AACA,YAAA,EADA;AACA;AACA,WAAA,CAFA,CAEA;;AAFA,KAAA;AAIA,GATA;AAUA,WAAA;AAAA;AACA,YADA,sBACA;AACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,KAJA;AAKA,WALA,mBAKA,KALA,EAKA;AAAA;;AAAA;AACA;AACA,cAAA,GAAA,CAAA,CAAA,EAFA,CAGA;AACA;;AACA,UAAA,MAAA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CALA,CAKA;;AACA,UAAA,QAAA,MAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,UAAA,QAAA,MAAA,MAAA,CAAA,OAAA,CAAA,KAAA;AACA,cAAA,GAAA,CAAA,CAAA;AACA,cAAA,GAAA,CAAA,MAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,EATA,CAUA;;AACA,UAAA,MAAA,SAAA,CAXA,CAYA;;AACA,UAAA,MAAA;AAAA,gBAAA;AAAA,oBAAA;AAAA,oBAAA,CACA;;AADA,OAAA;AAEA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA,gBAAA,GAAA,CAAA,CAAA;AACA,gBAAA,GAAA,CAAA,GAAA;;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA,gBAAA,MAAA,CAAA,MAAA;;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,SAHA,MAGA;AACA,gBAAA,MAAA,CAAA,MAAA;AACA;AACA,OATA,EAfA,CAyBA;AACA,KA/BA;AAgCA,YAhCA,sBAgCA;AAAA;;AACA;AACA,WAAA,GAAA;AACA,cAAA,GAAA,CAAA,CAAA,EAHA,CAIA;;AACA,UAAA,MAAA,SAAA,CALA,CAMA;;AACA,UAAA,MAAA;AAAA,aAAA,KAAA;AAAA,OAAA,CAPA,CAQA;;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EACA,IADA,CACA,eAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAA,OAAA,OAAA,IAAA,CAAA,MAAA,CAAA,IAAA,IAAA,CAAA,IAAA,CAAA;;AACA,eAAA,IAAA,GAAA,IAAA,CARA,CASA;AACA,OAXA;AAYA;AArDA;AAVA,CAAA","sourcesContent":["<template>\r\n    <div class=\"product_app\">\r\n        <!-- <h3>Product.vue商品列表</h3> -->\r\n        <!-- 一个商品信息 -->\r\n        <div class=\"goods-item\" v-for=\"(item,i) of list\" :key=\"i\">\r\n            <!-- 商品图片 -->\r\n            <img :src=\"'http://127.0.0.1:4000/'+item.pic\">\r\n            <!-- 商品名称 -->\r\n            <h4>{{item.lname}}</h4>\r\n            <h5 class=\"price\">{{item.price.toFixed(2)}}</h5>\r\n            <mt-button @click=\"addcart\" :data-lid=\"item.lid\" :data-lname=\"item.lname\" :data-price=\"item.price\" style=\"background:#0aa1ed;color:#fff;\">加入购物车</mt-button>\r\n        </div>\r\n        <!-- 查询购物车 -->\r\n        <mt-button size=\"large\" @click=\"jumpCart\">查看购物车</mt-button>\r\n        <!-- 加载更多 -->\r\n        <mt-button size=\"large\" @click=\"loadMore\">加载更多</mt-button>\r\n        <!-- {{list}} -->\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    created(){//组件创建成功后加载\r\n        this.loadMore();//加载数据\r\n    },\r\n    data(){//保存共享数据\r\n        return {\r\n            list:[],//服务器返回的结果\r\n            pno:0,//当前显示的页码\r\n        }\r\n    },\r\n    methods:{//添加函数\r\n        jumpCart(){\r\n            //功能:跳转购物车组件\r\n            this.$router.push(\"/Cart\")\r\n        },\r\n        addcart(event){ //event:事件对象,.target触发事件对象(按钮)\r\n            //功能:添加至购物车\r\n            console.log(1);\r\n            //1.在参数中添加属性event\r\n            //2.获取三个参数\r\n            var lid = event.target.dataset.lid;//.dataset专用于保存自定义属性值对象\r\n            var price = event.target.dataset.price;\r\n            var lname = event.target.dataset.lname;\r\n            console.log(2);\r\n            console.log(lid+\":\"+price+\":\"+lname);\r\n            //3.创建变量url\r\n            var url = \"addcart\";\r\n            //4.创建变量obj\r\n            var obj = {lid,lname,price}\r\n            //5.发送ajax请求\r\n            this.axios.get(url,{params:obj}).then(res=>{\r\n                console.log(3);\r\n                console.log(res);\r\n                if(res.data.code==-2){\r\n                    this.$toast(\"请登录!\");\r\n                    this.$router.push(\"/Login\");\r\n                }else{\r\n                    this.$toast(\"添加成功\")\r\n                }\r\n            })\r\n            //6.获取服务器返回的数据\r\n        },\r\n        loadMore(){\r\n            //功能:加载下一个数据\r\n            this.pno++;\r\n            console.log(1);\r\n            //1.创建变量url\r\n            var url = \"product\";\r\n            //2.创建变量obj\r\n            var obj = {pno:this.pno};\r\n            //3.发送ajax请求\r\n            this.axios.get(url,{params:obj})\r\n            .then(res=>{\r\n                //console.log(2);\r\n                //console.log(res.data.data)\r\n                //4.获取服务器返回结果\r\n                //5.在data添加属性list\r\n                //  保存返回数据\r\n                //this.list=res.data.data;//第一个data是ajax返回,第二个data是上面的data\r\n                var rows=this.list.concat(res.data.data);\r\n                this.list = rows;\r\n                //6.在模板创建循环显示数据\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    /*1.最外层父元素*/\r\n    .product_app{\r\n        /*弹性布局 子元素两端对齐 */\r\n        display:flex;\r\n        flex-wrap: wrap;\r\n        justify-content: space-between;\r\n        padding:4px;/*内边距 */\r\n    }\r\n    /*2.一个商品*/\r\n    .goods-item{\r\n        width:48%;/*一半 */\r\n        border:1px solid #ccc;\r\n        border-radius: 5px; /*圆角 */\r\n        margin:2px 0;/*外边距 */\r\n        padding:2px;\r\n        display: flex;/*弹性布局 */\r\n        flex-direction: column;/*按列 */\r\n        min-height:257px;\r\n    }\r\n    /*3.一个商品的图片*/\r\n    .goods-item img{\r\n        width:100%;\r\n    }\r\n</style>"],"sourceRoot":"src\\components\\web1908\\xz"}]}